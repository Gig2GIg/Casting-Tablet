(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["monitor-update"],{"1ac0":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-wrap h-full"},[n("div",{staticClass:"flex flex-wrap flex-1 justify-center items-center text-white py-16 h-full bg-gray-100 "},[n("div",{staticClass:"container flex w-full mt-3"},[n("div",{staticClass:"flex w-full text-center justify-center flex-wrap flex-row"},[n("base-input",{staticClass:"w-1/5 px-2",attrs:{name:"tag",type:"add",placeholder:"Add a new update","custom-classes":["border-2","border-purple"]},model:{value:t.updateText,callback:function(e){t.updateText=e},expression:"updateText"}}),n("div",{staticClass:"m-3 content-center rounded-full red-light w-40 h-10 flex items-center button-detail",on:{click:function(e){return t.sendUpdate()}}},[n("p",{staticClass:"text-white text-sm font-bold content-center tracking-tighter flex-1"},[t._v("\n              Send Updates\n            ")])])],1)]),n("div",{staticClass:"container flex flex-wrap justify-center w-1/2 h-96 overflow-y-auto overflow-x-hidden"},[Object.keys(t.updates).length>0==0?n("p",{staticClass:"text-purple font-medium tracking-wide"},[t._v("Updates to this audition have not yet been sent")]):t._e(),t._l(t.updates,function(e){return n("div",{key:e.id,staticClass:"w-full h-32"},[n("p",{staticClass:"w-full font-bold text-purple text-lg m-3"},[t._v("Updates")]),n("p",{staticClass:"w-full text-purple text-base m-3"},[t._v(t._s(e.title))]),n("p",{staticClass:"w-full text-purple font-bold text-sm m-3"},[t._v(t._s(e.time))])])})],2)]),n("section",{staticClass:" bg-white flex flex-col items-center h-full w-1/5 overflow-scroll"},[t._m(0),0==t.appointments.length?n("div",{staticClass:"mt-10"},[n("p",{staticClass:"text-purple font-medium tracking-wide"},[t._v("Appointments not added yet")])]):t._e(),t._l(t.appointments,function(e){return n("div",{key:e.id,staticClass:"w-full"},[n("div",{staticClass:"flex w-full -mb-5"},[n("div",{staticClass:"w-1/2 text-center m-8 float-left"},[n("h4",{staticClass:"text-left text-sm  text-purple"},[t._v("\n            "+t._s(e.name)+"\n          ")])]),n("div",{staticClass:"w-1/2 text-center m-8 float-right"},[n("h4",{staticClass:"text-right text-sm font-bold text-purple"},[t._v("\n            "+t._s(e.time)+"\n          ")])])]),n("div",{staticClass:"w-full border border-gray-300"})])})],2)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex w-full mt-10 "},[n("div",{staticClass:"w-full text-center font-bold text-purple text-xl"},[t._v("\n      Audition "),n("br"),t._v(" Appointments\n    ")])])}],a=(n("7f7f"),n("96cf"),n("3b8d")),i=n("cebc"),c=n("2f62"),o=n("bc3a"),l=n.n(o),u=n("c1df"),p=n.n(u),d={data:function data(){return{email:"",password:"",init:!0,scan:!1,prechecked:!1,appointment_id:"",isLoading:!1,result:null,error:null,dragover:!1,showAppointments:!1,cam:!0,image:!1,data:{},updates:{},updateText:""}},computed:Object(i["a"])({},Object(c["c"])("appointment",["appointments","userAppointment","appointmentNotWalk"])),mounted:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function _callee(){var t,e;return regeneratorRuntime.wrap(function _callee$(n){while(1)switch(n.prev=n.next){case 0:return this.fetch(this.$route.params.id),n.next=3,l.a.get("/monitor/show/".concat(this.$route.params.id));case 3:t=n.sent,e=t.data.data,this.updates=e;case 6:case"end":return n.stop()}},_callee,this)}));function mounted(){return t.apply(this,arguments)}return mounted}(),methods:Object(i["a"])({},Object(c["b"])("appointment",["fetch","fetchUserAudition","saveCheckIn","fetchAppointmentNotWalk"]),{reset:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.saveCheckIn(this.data);case 2:t.sent,this.$toasted.success("The check-in has been successfully"),this.data={},this.init=!0,this.scan=!1,this.prechecked=!1,this.appointment_id="";case 9:case"end":return t.stop()}},_callee2,this)}));function reset(){return t.apply(this,arguments)}return reset}(),sendUpdate:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function _callee3(){var t,e,n;return regeneratorRuntime.wrap(function _callee3$(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t={appointment:this.$route.params.id,title:this.updateText,time:p()().format("hh:mm")},r.next=4,l.a.post("t/monitor/updates",t);case 4:return this.$toasted.success("Update send successfully"),r.next=7,l.a.get("/monitor/show/".concat(this.$route.params.id));case 7:e=r.sent,n=e.data.data,this.updates=n,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),this.$toasted.error("Not performers added to notificate");case 15:case"end":return r.stop()}},_callee3,this,[[0,12]])}));function sendUpdate(){return t.apply(this,arguments)}return sendUpdate}(),useScanner:function useScanner(){this.init=!1,this.scan=!0},onInit:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function _callee4(t){return regeneratorRuntime.wrap(function _callee4$(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),"NotAllowedError"===e.t0.name?this.error="ERROR: you need to grant camera access permisson":"NotFoundError"===e.t0.name?this.error="ERROR: no camera on this device":"NotSupportedError"===e.t0.name?this.error="ERROR: secure context required (HTTPS, localhost)":"NotReadableError"===e.t0.name?this.error="ERROR: is the camera already in use?":"OverconstrainedError"===e.t0.name?this.error="ERROR: installed cameras are not suitable":"StreamApiNotSupportedError"===e.t0.name&&(this.error="ERROR: Stream API is not supported in this browser");case 8:case"end":return e.stop()}},_callee4,this,[[0,5]])}));function onInit(e){return t.apply(this,arguments)}return onInit}(),onDecode:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function _callee5(t){return regeneratorRuntime.wrap(function _callee5$(e){while(1)switch(e.prev=e.next){case 0:if(this.result=JSON.parse(t),null===this.result.hour){e.next=8;break}return e.next=4,this.fetchUserAudition(this.result);case 4:this.data={slot:this.userAppointment.slot_id,user:this.result.userId,auditions:this.result.auditionId,rol:this.result.rolId,appointment_id:this.result.appointmentId},stateCheckin?(this.scan=!1,this.prechecked=!0):this.$toasted.error("Invalid Data Given"),e.next=12;break;case 8:return e.next=10,this.fetchAppointmentNotWalk(this.$route.params.id);case 10:this.scan=!1,this.showAppointments=!0;case 12:case"end":return e.stop()}},_callee5,this)}));function onDecode(e){return t.apply(this,arguments)}return onDecode}(),updateCheckIn:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function _callee6(){var t,e;return regeneratorRuntime.wrap(function _callee6$(n){while(1)switch(n.prev=n.next){case 0:return console.log(this.appointment_id),n.next=3,this.fetchUserAudition(this.result);case 3:return t={slot:this.appointment_id,user:this.result.userId,auditions:this.result.auditionId,rol:this.result.rolId,appointment_id:this.result.appointmentId},n.next=6,this.saveCheckIn(t);case 6:if(e=n.sent,!e){n.next=15;break}return this.scan=!1,this.showAppointments=!1,this.prechecked=!0,n.next=13,this.fetchUserAudition(this.result);case 13:n.next=16;break;case 15:console.log("Invalid Data Given");case 16:case"end":return n.stop()}},_callee6,this)}));function updateCheckIn(){return t.apply(this,arguments)}return updateCheckIn}(),logErrors:function logErrors(t){t.catch(console.error)},onDragOver:function onDragOver(t){this.dragover=t}})},h=d,f=(n("44a8"),n("2877")),m=Object(f["a"])(h,r,s,!1,null,"0b9b5bc7",null);e["default"]=m.exports},"44a8":function(t,e,n){"use strict";var r=n("c4b8"),s=n.n(r);s.a},c4b8:function(t,e,n){}}]);
//# sourceMappingURL=monitor-update.ec83f291.js.map