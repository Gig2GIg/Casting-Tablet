{"version":3,"sources":["webpack:///./src/views/auth/Login.vue?0a4b","webpack:///src/views/auth/Login.vue","webpack:///./src/views/auth/Login.vue?8e5a","webpack:///./src/views/auth/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","alt","on","submit","$event","preventDefault","handleLogin","directives","name","rawName","value","expression","placeholder","message","errors","first","model","callback","$$v","email","type","password","expanded","_v","to","staticRenderFns","Loginvue_type_script_lang_js_","data","isLoading","methods","Object","objectSpread","vuex_esm","_handleLogin","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","login","$router","replace","$route","query","redirect","t0","response","status","$toasted","error","finish","stop","apply","arguments","auth_Loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"8GAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,WAAAC,MAAA,CAA8BC,IAAA,mBAAAC,IAAA,UAAuCL,EAAA,QAAaE,YAAA,uBAAAI,GAAA,CAAuCC,OAAA,SAAAC,GAAkD,OAAxBA,EAAAC,iBAAwBb,EAAAc,YAAAF,MAAiC,CAAAR,EAAA,cAAmBW,WAAA,EAAaC,KAAA,WAAAC,QAAA,aAAAC,MAAA,iBAAAC,WAAA,qBAA4FZ,MAAA,CAASS,KAAA,OAAAI,YAAA,OAAAC,QAAArB,EAAAsB,OAAAC,MAAA,SAAsEC,MAAA,CAAQN,MAAAlB,EAAA,MAAAyB,SAAA,SAAAC,GAA2C1B,EAAA2B,MAAAD,GAAcP,WAAA,WAAqBf,EAAA,cAAmBW,WAAA,EAAaC,KAAA,WAAAC,QAAA,aAAAC,MAAA,WAAAC,WAAA,eAAgFZ,MAAA,CAASS,KAAA,WAAAY,KAAA,WAAAR,YAAA,WAAAC,QAAArB,EAAAsB,OAAAC,MAAA,aAAoGC,MAAA,CAAQN,MAAAlB,EAAA,SAAAyB,SAAA,SAAAC,GAA8C1B,EAAA6B,SAAAH,GAAiBP,WAAA,cAAwBf,EAAA,eAAoBG,MAAA,CAAOqB,KAAA,SAAAE,SAAA,KAA+B,CAAA9B,EAAA+B,GAAA,8BAAA3B,EAAA,eAAyDE,YAAA,eAAAC,MAAA,CAAkCyB,GAAA,CAAMhB,KAAA,oBAA2B,CAAAhB,EAAA+B,GAAA,gCAAA3B,EAAA,eAA2DE,YAAA,QAAAC,MAAA,CAA2ByB,GAAA,CAAMhB,KAAA,cAAqB,CAAAhB,EAAA+B,GAAA,mCACpsCE,EAAA,6DCuDAC,EAAA,CACAC,KADA,SAAAA,OAEA,OACAR,MAAA,GACAE,SAAA,GACAO,WAAA,IAGAC,QAAAC,OAAAC,EAAA,KAAAD,CAAA,GACAA,OAAAE,EAAA,KAAAF,CAAA,kBADA,CAGAxB,YAHA,eAAA2B,EAAAH,OAAAI,EAAA,KAAAJ,CAAAK,mBAAAC,KAAA,SAAAC,UAAA,OAAAF,mBAAAG,KAAA,SAAAC,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,GAKAhD,KAAAmC,UALA,CAAAY,EAAAE,KAAA,eAAAF,EAAAG,OAAA,wBASAlD,KAAAmC,WAAA,EATAY,EAAAE,KAAA,EAWAjD,KAAAmD,MAAA,CACAzB,MAAA1B,KAAA0B,MACAE,SAAA5B,KAAA4B,WAbA,OAiBA5B,KAAAoD,QAAAC,QACArD,KAAAsD,OAAAC,MAAAC,UAAA,CAAAzC,KAAA,cAlBAgC,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,YAqBA,MAAAA,EAAAU,GAAAC,SAAAC,QACA3D,KAAA4D,SAAAC,MAAA,+CAtBA,eAAAd,EAAAC,KAAA,GAyBAhD,KAAAmC,WAAA,EAzBAY,EAAAe,OAAA,6BAAAf,EAAAgB,SAAAnB,QAAA5C,KAAA,2BAAAa,cAAA,OAAA2B,EAAAwB,MAAAhE,KAAAiE,WAAA,OAAApD,YAAA,MChE8VqD,EAAA,cCO9VC,EAAgB9B,OAAA+B,EAAA,KAAA/B,CACd6B,EACApE,EACAkC,GACF,EACA,KACA,KACA,MAIeqC,EAAA,WAAAF","file":"js/login.31296dbf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('img',{staticClass:\"max-w-xs\",attrs:{\"src\":\"/images/logo.png\",\"alt\":\"Logo\"}}),_c('form',{staticClass:\"w-full max-w-xs mt-8\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleLogin($event)}}},[_c('base-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required|email'),expression:\"'required|email'\"}],attrs:{\"name\":\"user\",\"placeholder\":\"User\",\"message\":_vm.errors.first('user')},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('base-input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"Password\",\"message\":_vm.errors.first('password')},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('base-button',{attrs:{\"type\":\"submit\",\"expanded\":\"\"}},[_vm._v(\"\\n      Log In\\n    \")])],1),_c('router-link',{staticClass:\"mt-2 text-sm\",attrs:{\"to\":{ name: 'password.email' }}},[_vm._v(\"\\n    Forgot Password?\\n  \")]),_c('router-link',{staticClass:\"mt-16\",attrs:{\"to\":{ name: 'register' }}},[_vm._v(\"\\n    Create Account\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <img\n      src=\"/images/logo.png\"\n      class=\"max-w-xs\"\n      alt=\"Logo\"\n    >\n\n    <form\n      class=\"w-full max-w-xs mt-8\"\n      @submit.prevent=\"handleLogin\"\n    >\n      <base-input\n        v-model=\"email\"\n        v-validate=\"'required|email'\"\n        name=\"user\"\n        placeholder=\"User\"\n        :message=\"errors.first('user')\"\n      />\n\n      <base-input\n        v-model=\"password\"\n        v-validate=\"'required'\"\n        name=\"password\"\n        type=\"password\"\n        placeholder=\"Password\"\n        :message=\"errors.first('password')\"\n      />\n\n      <base-button\n        type=\"submit\"\n        expanded\n      >\n        Log In\n      </base-button>\n    </form>\n\n    <router-link\n      :to=\"{ name: 'password.email' }\"\n      class=\"mt-2 text-sm\"\n    >\n      Forgot Password?\n    </router-link>\n\n    <router-link\n      :to=\"{ name: 'register' }\"\n      class=\"mt-16\"\n    >\n      Create Account\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      email: '',\n      password: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    ...mapActions('auth', ['login']),\n\n    async handleLogin() {\n      try {\n        if (this.isLoading) {\n          return;\n        }\n\n        this.isLoading = true;\n\n        await this.login({\n          email: this.email,\n          password: this.password,\n        });\n\n        // Redirect the user to the page he first tried to visit or to the home view\n        this.$router.replace(\n          this.$route.query.redirect || { name: 'auditions' },\n        );\n      } catch (e) {\n        if (e.response.status === 401) {\n          this.$toasted.error('These credentials do not match our records.');\n        }\n      } finally {\n        this.isLoading = false;\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2f8b2ca4&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}